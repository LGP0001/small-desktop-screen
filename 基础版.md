# GPIO基础版

## 基础知识

### 什么是GPIO？
GPIO是"通用输入/输出"的缩写，它是一种让我们的程序与外部世界交流的方式。通过GPIO，我们的程序可以控制例如灯泡的开与关，或者感知例如按钮是否被按下这样的外部事件。

### 为什么要使用GPIO?
我们的程序想要控制或者感知外部的设备时，就需要使用GPIO。比如，我们可以通过GPIO让一盏灯泡亮起，或者感知一个按钮是否被按下。

### ESP32的GPIO
ESP32是一个小而强大的电脑芯片，它有很多的GPIO引脚。每一个GPIO引脚都可以被设置为发送信号（输出）或者接收信号（输入）。

## 示例代码

### 创建两个文件
1. main.c
2. ds_gpio.c

### 文件内容
main.c:
~~~c
#include "ds_gpio.c"  // 引入我们的GPIO代码文件

void app_main(void)  // 主程序从这里开始
{
    ds_gpio_init();  // 调用函数来设置GPIO
}
~~~
ds_gpio.c:
~~~c
#include "freertos/FreeRTOS.h"
#include "freertos/task.h"
#include "driver/gpio.h"

// 初始化GPIO的函数
void ds_gpio_init(){
    // 设置GPIO 2为输出模式，以控制一个LED灯泡
    gpio_config_t io_conf = {
        .pin_bit_mask = (1ULL<<GPIO_NUM_2),
        .mode = GPIO_MODE_OUTPUT,
        .intr_type = GPIO_INTR_DISABLE
    };
    gpio_config(&io_conf);

    // 让GPIO 2输出低电平，以点亮LED灯泡
    gpio_set_level(GPIO_NUM_2, 0);
}
~~~

### 示例代码解释

1. 设置GPIO (ds_gpio_init函数)：
在ds_gpio_init函数里，我们设置了GPIO 2为输出模式，这样它就可以发送电信号来控制一个LED灯泡。然后我们发送一个低电平信号（0）到GPIO 2，使LED灯泡点亮。

2. 主程序 (app_main函数)：
在app_main函数里，我们调用了ds_gpio_init函数来执行上面的设置。

这个简单的示例让你看到了如何通过编程控制GPIO来点亮一个LED灯泡。你可以尝试更改GPIO的编号或电平，看看LED灯泡如何响应。